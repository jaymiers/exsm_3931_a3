Hungry Customer:

FUNCTION Obtain_Snack 
    Choose snack
    Pay for snack
    If customer desires chips
        Then enter code for chips
        Else, enter code for candy
    Retrieve snack
    If there is change
        Then retrieve change
        Else enjoy snack

Machine Owner:

FUNCTION Restock_Machine
    Unlock machine
    If snacks stock needs refilling
        Then restock snacks
        Else empty coin storage
    Lock Machine